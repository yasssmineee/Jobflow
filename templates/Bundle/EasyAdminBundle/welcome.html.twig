{% extends 'Bundle/EasyAdminBundle/page/content.html.twig' %}

{% block page_title 'Welcome' %}

{% block page_content %}
<canvas id="myChart" style="width: 50px; height: 50px;"></canvas>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // Récupérer les données JSON passées depuis le contrôleur
        var blockedUsersData = {{ blocked_users_data | raw }};

        // Configuration du graphique
        var ctx = document.getElementById('myChart').getContext('2d');
        var myChart = new Chart(ctx, {
            type: 'pie', // Changer le type de graphique en diagramme circulaire
            data: {
                labels: Object.keys(blockedUsersData),
                datasets: [{
                    label: 'Nombre d\'utilisateurs',
                    data: Object.values(blockedUsersData),
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                    ],
                    borderColor: [
                        'rgba(255, 99, 132, 1)',
                        'rgba(54, 162, 235, 1)',
                    ],
                    borderWidth: 2
                }]
            },
            options: {
                // Ajouter des options supplémentaires ici si nécessaire
            }
        });
    </script>
{% endblock %}
